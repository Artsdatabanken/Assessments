@model NatureTypesDetailViewModel

@{
    var assessment = Model.Assessment;
    ViewBag.Title = $"{NatureTypesConstants.Title2025} {assessment.Name}";
    Layout = "_Layout.cshtml";
}

@section Styles {
    <link rel="stylesheet" href="~/css/assessment.css" />
}

@section Breadcrumb {

    <partial name="Partials/_Breadcrumb" for="Assessment" />
}

@section PageMenu {

    <partial name="/Views/Shared/_PageMenu.cshtml" for="PageMenuViewModel" />
}

<div class="content-placer bigmid">
    <div class="mid-content with_sidebar">
        <div class="page-header">
            <h1>
                @assessment.Name
            </h1>
            <a href="#feedback">
                Gi innspill til vurderingen nederst på siden
            </a>
            <div class="speciesgroup_container">
                <p class="published">
                    <span>
                        Utført av <a href="https://artsdatabanken.no/pages/370736">ekspertkomité for @assessment.Committee.Name</a>
                    </span>
                    <br />
                    <span class="datestring">
                        sist endret: @($"{assessment.ModifiedOn:f}")
                    </span>
                </p>
            </div>
            Gjelder for @assessment.Region.GetDescription()
            <hr />
            <div class="mobile_padding">
                <div class="page_section">
                    Endelig kategori og kriterium: @assessment.CategoryCriteria
                    <br />
                    Naturtypen er vurdert til @assessment.Category.GetDescription() @assessment.Category for Norsk rødliste for naturtyper 2025. Kategorien kommer av ***
                    <br />
                </div>
                <partial name="/Views/Shared/_CategoryDescription.cshtml" for="CategoryDescriptionViewModel" />
                <br />
                Endelig kriterium: ***
            </div>
            <div is-visible="!string.IsNullOrEmpty(assessment.DescriptionHtml)" class="page_section">
                <div id="@nameof(NatureTypesConstants.Headings.Description)">
                    <h2>
                        @NatureTypesConstants.Headings.Description
                    </h2>
                    <div>
                        @Html.Raw(assessment.DescriptionHtml.RemoveEmptyTags())
                    </div>
                </div>
            </div>
            <div class="page_section">
                <div id="@nameof(NatureTypesConstants.Headings.Summary)">
                    <div class="page_section_header">
                        <h2>
                            @NatureTypesConstants.Headings.Summary
                        </h2>
                    </div>
                    <p>
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit fusce vel sapien elit in malesuada semper mi, id sollicitudin urna fermentum ut fusce varius nisl ac ipsum gravida vel pretium tellus tincidunt integer eu augue augue nunc elit dolor, luctus placerat scelerisque euismod, iaculis eu lacus nunc mi elit, vehicula ut laoreet ac, aliquam sit amet justo nunc tempor, metus vel placerat suscipit, orci nisl iaculis eros, a tincidunt nisi odio eget lorem nulla condimentum tempor mattis ut vitae feugiat augue cras ut metus a risus iaculis scelerisque eu ac ante fusce non varius purus aenean nec magna felis fusce vestibulum velit mollis odio sollicitudin lacinia aliquam posuere
                    </p>
                </div>
            </div>
            <div class="page_section" is-visible="Model.CodeItemViewModels.Count != 0">
                <div id="@nameof(NatureTypesConstants.Headings.CodeItems)">
                    <div class="page_section_header">
                        <h2>
                            @NatureTypesConstants.Headings.CodeItems
                        </h2>
                    </div>
                    <partial name="Partials/Details/_CodeItems.cshtml" for="CodeItemViewModels" />
                </div>
                @Html.Raw(@assessment.ImpactsCommentHtml)
            </div>
            <div class="page_section">
                <div id="@nameof(NatureTypesConstants.Headings.CriteriaInformation)">
                    <div class="page_section_header">
                        <h2>
                            @NatureTypesConstants.Headings.CriteriaInformation
                        </h2>
                    </div>
                    **tabell med to faner. 1) oppsummering. 2) alle kriteriene
                </div>
            </div>
            <div class="page_section">
                <div id="@nameof(NatureTypesConstants.Headings.AreaInformation)">
                    <div class="page_section_header">
                        <h2>
                            @NatureTypesConstants.Headings.AreaInformation
                        </h2>
                    </div>
                    <p>
                        Totalareal er naturtypens kjente areal per i dag. Utbredelsesarealet er et minimum konvekst polygon som omslutter alle forekomstene av typen. Antall forekomster er antall 10 x 10 km ruter der naturtypen forekommer. Forklaring til areal (**lenke til nettsidetekst - settes inn når tilgjengelig).
                    </p>
                    <h3>
                        Areal i Norge
                    </h3>
                    ** Arealtall (tabell)
                </div>
            </div>
            <div class="page_section">
                <div id="@nameof(NatureTypesConstants.Headings.Regions)">
                    <div class="page_section_header">
                        <h2>
                            @NatureTypesConstants.Headings.Regions
                        </h2>
                    </div>
                    <partial name="Partials/Details/_Regions.cshtml" />
                </div>
            </div>
            <div class="page_section" is-visible="Model.Assessment.References.Count != 0">
                <div id="@nameof(NatureTypesConstants.Headings.References)">
                    <div class="page_section_header">
                        <h2>
                            @NatureTypesConstants.Headings.References
                        </h2>
                    </div>
                    <ul>
                        @foreach (var reference in assessment.References)
                        {
                            <li class="reference">
                                @reference.ReferencePresentation
                            </li>
                        }
                    </ul>
                </div>
            </div>
            <partial name="/Views/Shared/_CitationForAssessment.cshtml" for="CitationForAssessmentViewModel" />
            <partial name="/Views/Feedback/_Feedback.cshtml" model="Model.FeedbackViewModel" />
        </div>
    </div>
    <div class="side mobile_padding">
        <div class="sidebar_image_info">
            <p>
                NiN-kode: <a href="https://naturinorge.artsdatabanken.no/@assessment.LongCode" target="_blank">@assessment.ShortCode</a>
            </p>
            <p is-visible="!string.IsNullOrEmpty(assessment.AppliedVariables)">
                Anvendt variabel: @assessment.AppliedVariables
            </p>
        </div>
    </div>
</div>