@model NatureTypesListViewModel

<div id="viewselector" class="viewselector @Model.ListViewViewModel.View">
    @if (Model.ListViewViewModel.View == "stat")
    {
        <partial name="_Graphs.cshtml" for="NatureTypesStatisticsViewModel" />
    }
    else
    {
        <ul class="main_list_view">
            <li class="listheader rln-list-header">
                <span class="list_cell">
                    NiN-kode
                </span>
                <span class="list_cell">
                    Naturtype
                    <br/>
                </span>
                <span class="list_cell">
                    Kategori
                </span>
            </li>
            @if (Model.Assessments.Count > 0)
            {
                @foreach (var assessment in Model.Assessments)
                {
                    var topic = Model.NinCodeTopics.FirstOrDefault(x => x.Id == assessment.NinCodeTopicId);

                    <li class="list rln-list-row">
                        <a asp-action="Detail" asp-route-id="@assessment.Id">
                            <span class="list_cell">
                                @assessment.ShortCode
                            </span>
                            <span class="list_cell">
                                @(!string.IsNullOrEmpty(assessment.PopularName) ? assessment.PopularName : assessment.Name)
                                @if (topic != null)
                                {
                                    <br />
                                    <span style="color: grey">
                                        @topic.Name (@topic.Description)
                                    </span>
                                }
                            </span>
                            <div class="rln-category-container">
                                <span class="@assessment.Category rln-category-circle">
                                    <span class="category_tag_label rln-category-tag-label">@assessment.Category</span>
                                </span>
                                <span class="categoryname capitalized rln-category-label">
                                    @assessment.Category.GetDescription()
                                </span>
                            </div>
                        </a>
                    </li>
                }
            }
            else
            {
                <li class="no_results mobile_padding">Kombinasjonen av søk og filter gir ingen treff</li>
            }
        </ul>
        <div class="mobile_padding">
            <partial name="/Views/Shared/_Paginator.cshtml" for="ListViewViewModel" />
        </div>
    }
</div>